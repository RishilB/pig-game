"use strict";const score0El=document.getElementById("score--0"),score1El=document.getElementById("score--1"),curr0El=document.getElementById("current--0"),curr1El=document.getElementById("current--1"),diceEl=document.querySelector(".dice"),btnRoll=document.querySelector(".btn--roll"),btnNew=document.querySelector(".btn--new"),btnHold=document.querySelector(".btn--hold"),player0=document.querySelector(".player--0"),player1=document.querySelector(".player--1"),modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay"),btnCloseModal=document.querySelector(".close-modal"),btnOpenModal=document.querySelector(".btn--how"),newGameModal=document.querySelector(".init--modal"),btnCloseNewGameModal=document.querySelector(".close-init-modal"),btnSinglePlayerStart=document.querySelector(".btn-pig-bot-1"),btnDoublePlayerStart=document.querySelector(".btn-pig-bot-2"),inputPlayer1=document.getElementById("player-1-name"),inputPlayer2=document.getElementById("player-2-name"),overlayNewGame=document.querySelector(".overlay-newgame");let pigBot=!1;const openNewGameModal=function(){newGameModal.classList.remove("hidden"),overlayNewGame.classList.remove("hidden")},closeNewGameModal=function(){newGameModal.classList.add("hidden"),overlayNewGame.classList.add("hidden")},inputPlayer1Border=function(e){inputPlayer1.style.border=e},inputPlayer2Border=function(e){inputPlayer2.style.border=e};openNewGameModal(),btnNew.addEventListener("click",function(){openNewGameModal(),player0.classList.remove("player--winner"),player1.classList.remove("player--winner"),player0.classList.add("player--active"),player1.classList.remove("player--active"),btnHold.classList.remove("hidden"),btnRoll.classList.remove("hidden"),score0El.textContent=0,score1El.textContent=0,curr0El.textContent=0,curr1El.textContent=0,activePlayer=0,playing=!0,document.getElementById("name--0").textContent="Player 1",document.getElementById("name--1").textContent="Player 2",inputPlayer1Border("0px"),inputPlayer2Border("0px"),diceEl.classList.add("hidden"),currentScore=0}),btnDoublePlayerStart.addEventListener("click",function(){pigBot=!1,inputPlayer1.value.length>0&&inputPlayer2.value.length>0?(document.getElementById("name--0").textContent=inputPlayer1.value,document.getElementById("name--1").textContent=inputPlayer2.value,closeNewGameModal()):0===inputPlayer1.value.length&&0===inputPlayer2.value.length?(inputPlayer1Border("2px solid #CD5C5C"),inputPlayer2Border("2px solid #CD5C5C")):0===inputPlayer1.value.length?(inputPlayer1Border("2px solid #CD5C5C"),inputPlayer2Border("0px")):0===inputPlayer2.value.length&&(inputPlayer2Border("2px solid #CD5C5C"),inputPlayer1Border("0px"))}),btnSinglePlayerStart.addEventListener("click",function(){pigBot=!0,document.getElementById("name--0").textContent="Pig Bot",document.getElementById("name--1").textContent="You",closeNewGameModal(),activePlayer=1,player1.classList.add("player--active"),player0.classList.remove("player--active")});const openModal=function(){modal.classList.remove("hidden"),overlay.classList.remove("hidden")},closeModal=function(){modal.classList.add("hidden"),overlay.classList.add("hidden")};btnOpenModal.addEventListener("click",openModal),btnCloseModal.addEventListener("click",closeModal),overlay.addEventListener("click",closeModal),document.addEventListener("keydown",function(e){"Escape"!==e.key||modal.classList.contains("hidden")||closeModal()});let currentScore=0,activePlayer=0,playing=!0;score0El.textContent=0,score1El.textContent=0,diceEl.classList.add("hidden");const switchPlayer=function(){if(document.getElementById(`current--${activePlayer}`).textContent=0,currentScore=0,activePlayer=0===activePlayer?1:0,player0.classList.toggle("player--active"),player1.classList.toggle("player--active"),!0===pigBot&&0===activePlayer&&playing){let e=0,t=Number(Math.trunc(4*Math.random())+1);for(let n=1;n<=t;n++){let t=Number(Math.trunc(6*Math.random())+1);if(1===t){e=0;break}e+=t}document.getElementById("score--0").textContent=Number(document.getElementById("score--0").textContent)+e,player0.classList.remove("player--active"),player1.classList.add("player--active"),activePlayer=1,document.getElementById("score--0").textContent>=100&&(playing=!1,btnHold.classList.add("hidden"),btnRoll.classList.add("hidden"),document.querySelector(".player--0").classList.add("player--winner"),document.querySelector(".player--0").classList.remove("player--active"),diceEl.classList.add("hidden"))}};btnRoll.addEventListener("click",function(){if(playing)if(!1===pigBot){let e=Number(Math.trunc(6*Math.random())+1);diceEl.classList.remove("hidden"),diceEl.src=`dice-${e}.png`,1!==e?(currentScore+=e,document.getElementById(`current--${activePlayer}`).textContent=currentScore):switchPlayer()}else if(!0===pigBot&&1===activePlayer){let e=Number(Math.trunc(6*Math.random())+1);diceEl.classList.remove("hidden"),diceEl.src=`dice-${e}.png`,1!==e?(currentScore+=e,document.getElementById("current--1").textContent=currentScore):switchPlayer()}}),btnHold.addEventListener("click",function(){playing&&(document.getElementById(`score--${activePlayer}`).textContent=Number(document.getElementById(`score--${activePlayer}`).textContent)+currentScore,document.getElementById(`score--${activePlayer}`).textContent>=100&&(playing=!1,btnHold.classList.add("hidden"),btnRoll.classList.add("hidden"),document.querySelector(`.player--${activePlayer}`).classList.add("player--winner"),document.querySelector(`.player--${activePlayer}`).classList.remove("player--active"),diceEl.classList.add("hidden")),switchPlayer())});
